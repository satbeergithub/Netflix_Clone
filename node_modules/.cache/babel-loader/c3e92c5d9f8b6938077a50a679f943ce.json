{"ast":null,"code":"/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as type from './type';\n/**\n * @struct\n */\nvar Observer = /** @class */function () {\n  function Observer(nextOrObserver, opt_error, opt_complete) {\n    var asFunctions = type.isFunction(nextOrObserver) || type.isDef(opt_error) || type.isDef(opt_complete);\n    if (asFunctions) {\n      this.next = nextOrObserver;\n      this.error = opt_error || null;\n      this.complete = opt_complete || null;\n    } else {\n      var observer = nextOrObserver;\n      this.next = observer.next || null;\n      this.error = observer.error || null;\n      this.complete = observer.complete || null;\n    }\n  }\n  return Observer;\n}();\nexport { Observer };","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;AAeA,OAAO,KAAKA,IAAI,MAAM,QAAQ;AAe9B;;;AAGA;EAKE,kBACEC,cAAoE,EACpEC,SAA0B,EAC1BC,YAAgC;IAEhC,IAAIC,WAAW,GACbJ,IAAI,CAACK,UAAU,CAACJ,cAAc,CAAC,IAC/BD,IAAI,CAACM,KAAK,CAACJ,SAAS,CAAC,IACrBF,IAAI,CAACM,KAAK,CAACH,YAAY,CAAC;IAC1B,IAAIC,WAAW,EAAE;MACf,IAAI,CAACG,IAAI,GAAGN,cAAkC;MAC9C,IAAI,CAACO,KAAK,GAAGN,SAAS,IAAI,IAAI;MAC9B,IAAI,CAACO,QAAQ,GAAGN,YAAY,IAAI,IAAI;IACtC,CAAC,MAAM;MACL,IAAMO,QAAQ,GAAGT,cAIhB;MACD,IAAI,CAACM,IAAI,GAAGG,QAAQ,CAACH,IAAI,IAAI,IAAI;MACjC,IAAI,CAACC,KAAK,GAAGE,QAAQ,CAACF,KAAK,IAAI,IAAI;MACnC,IAAI,CAACC,QAAQ,GAAGC,QAAQ,CAACD,QAAQ,IAAI,IAAI;IAC3C;EACF;EACF,eAAC;AAAD,CA7BA,EA6BC","names":["type","nextOrObserver","opt_error","opt_complete","asFunctions","isFunction","isDef","next","error","complete","observer"],"sources":["../src/implementation/observer.ts"],"sourcesContent":["/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as type from './type';\n\ntype NextFn<T> = (value: T) => void;\ntype ErrorFn = (error: Error) => void;\ntype CompleteFn = () => void;\ntype Unsubscribe = () => void;\n\ntype Subscribe<T> = (\n  next: NextFn<T> | { [name: string]: string | null },\n  error?: ErrorFn,\n  complete?: CompleteFn\n) => Unsubscribe;\n\nexport { NextFn, ErrorFn, CompleteFn, Unsubscribe, Subscribe };\n\n/**\n * @struct\n */\nexport class Observer<T> {\n  next: NextFn<T> | null;\n  error: ErrorFn | null;\n  complete: CompleteFn | null;\n\n  constructor(\n    nextOrObserver: NextFn<T> | { [name: string]: string | null } | null,\n    opt_error?: ErrorFn | null,\n    opt_complete?: CompleteFn | null\n  ) {\n    let asFunctions =\n      type.isFunction(nextOrObserver) ||\n      type.isDef(opt_error) ||\n      type.isDef(opt_complete);\n    if (asFunctions) {\n      this.next = nextOrObserver as NextFn<T> | null;\n      this.error = opt_error || null;\n      this.complete = opt_complete || null;\n    } else {\n      const observer = nextOrObserver as {\n        next?: NextFn<T> | null;\n        error?: ErrorFn | null;\n        complete?: CompleteFn | null;\n      };\n      this.next = observer.next || null;\n      this.error = observer.error || null;\n      this.complete = observer.complete || null;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}