{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar StatsCollection_1 = require(\"./StatsCollection\");\nvar StatsManager = /** @class */function () {\n  function StatsManager() {}\n  StatsManager.getCollection = function (repoInfo) {\n    var hashString = repoInfo.toString();\n    if (!this.collections_[hashString]) {\n      this.collections_[hashString] = new StatsCollection_1.StatsCollection();\n    }\n    return this.collections_[hashString];\n  };\n  StatsManager.getOrCreateReporter = function (repoInfo, creatorFunction) {\n    var hashString = repoInfo.toString();\n    if (!this.reporters_[hashString]) {\n      this.reporters_[hashString] = creatorFunction();\n    }\n    return this.reporters_[hashString];\n  };\n  StatsManager.collections_ = {};\n  StatsManager.reporters_ = {};\n  return StatsManager;\n}();\nexports.StatsManager = StatsManager;","map":{"version":3,"mappings":";;AAAA;;;;;;;;;;;;;;;;;;AAgBA;AAGA;EAAA,yBA0BA;EAtBSA,0BAAa,GAApB,UAAqBC,QAAkB;IACrC,IAAMC,UAAU,GAAGD,QAAQ,CAACE,QAAQ,EAAE;IAEtC,IAAI,CAAC,IAAI,CAACC,YAAY,CAACF,UAAU,CAAC,EAAE;MAClC,IAAI,CAACE,YAAY,CAACF,UAAU,CAAC,GAAG,IAAIG,iCAAe,EAAE;IACvD;IAEA,OAAO,IAAI,CAACD,YAAY,CAACF,UAAU,CAAC;EACtC,CAAC;EAEMF,gCAAmB,GAA1B,UACEC,QAAkB,EAClBK,eAAwB;IAExB,IAAMJ,UAAU,GAAGD,QAAQ,CAACE,QAAQ,EAAE;IAEtC,IAAI,CAAC,IAAI,CAACI,UAAU,CAACL,UAAU,CAAC,EAAE;MAChC,IAAI,CAACK,UAAU,CAACL,UAAU,CAAC,GAAGI,eAAe,EAAE;IACjD;IAEA,OAAO,IAAI,CAACC,UAAU,CAACL,UAAU,CAAC;EACpC,CAAC;EAxBcF,yBAAY,GAAqC,EAAE;EACnDA,uBAAU,GAAyB,EAAE;EAwBtD,mBAAC;CA1BD,EA0BC;AA1BYQ","names":["StatsManager","repoInfo","hashString","toString","collections_","StatsCollection_1","creatorFunction","reporters_","exports"],"sources":["../src/core/stats/StatsManager.ts"],"sourcesContent":["/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { StatsCollection } from './StatsCollection';\nimport { RepoInfo } from '../RepoInfo';\n\nexport class StatsManager {\n  private static collections_: { [k: string]: StatsCollection } = {};\n  private static reporters_: { [k: string]: any } = {};\n\n  static getCollection(repoInfo: RepoInfo): StatsCollection {\n    const hashString = repoInfo.toString();\n\n    if (!this.collections_[hashString]) {\n      this.collections_[hashString] = new StatsCollection();\n    }\n\n    return this.collections_[hashString];\n  }\n\n  static getOrCreateReporter<T>(\n    repoInfo: RepoInfo,\n    creatorFunction: () => T\n  ): T {\n    const hashString = repoInfo.toString();\n\n    if (!this.reporters_[hashString]) {\n      this.reporters_[hashString] = creatorFunction();\n    }\n\n    return this.reporters_[hashString];\n  }\n}\n"]},"metadata":{},"sourceType":"script"}